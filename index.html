



<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Paul Heasley">
  
  <meta name="google-site-verification" content="9tEgdbVtDnWGWmrq5fFYoF3x0VK8kfeRcbH5DJfqlYY" />
  

  <title>Home | phdesign</title>
  <meta name="description" content="Website of Paul Heasley, .NET Web Developer Technical advice, bits of software, maybe some woodworking">

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="canonical" href="http://phdesign.com.au/">
  <link rel="alternate" type="application/rss+xml" title="phdesign" href="/feed.xml">
  <link rel="shortcut icon" href="/favicon.ico">

  
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-2414000-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-2414000-1');
</script>


  
  <script data-ad-client="ca-pub-5982856679845951" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  

  <!-- Google Web Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

  <body class="home">

    <div class="header-background-image"></div>
    <header role="banner">
      <div class="header-top">
        
<nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/" title="phdesign homepage">ph<span class="brand-muted">design</span></a>
    </div><!-- end .navbar-header -->

    <div class="collapse navbar-collapse" id="navbar-collapse">
      <ul class="nav navbar-nav">
        <li class="active"><a href="/">Home <span class="sr-only">(current)</span></a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Blog <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            
              <li><a href="/programming">programming</a></li>
            
              <li><a href="/general">general</a></li>
            
              <li><a href="/woodworking">woodworking</a></li>
            
              <li><a href="/infosec">infosec</a></li>
            
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Projects <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/album-rsync">album-rsync</a></li>
            <li><a href="/npptoolbucket">NppToolBucket</a></li>
            <li><a href="/betternote">BetterNote</a></li>
            <li><a href="/phreplace">phReplace</a></li>
          </ul>
        </li>
        <li><a href="/presentations">Presentations</a></li>
        <li><a href="/contact">Contact me</a></li>
      </ul>

    </div><!-- end .navbar-collapse -->
  </div><!-- end .container -->
</nav>

      </div><!-- end .header-top -->

      
        
<div class="container">

  <div class="row">
    <div class="col-xs-12">
      <ul class="social-icons">
        <li><a href="https://twitter.com/pheasley" title="Follow me on Twitter"><i class="fa fa-twitter"></i></a></li>
        <li><a href="https://github.com/phdesign" title="See my code on GitHub"><i class="fa fa-github"></i></a></li>
        <li><a href="https://au.linkedin.com/in/pheasley" title="Connect with me on LinkedIn"><i class="fa fa-linkedin"></i></a></li>
        <li><a href="https://www.pinterest.com/paulheasley/" title="Follow me on Pinterest"><i class="fa fa-pinterest"></i></a></li>
        <li><a href="https://instagram.com/phdesign/" title="Me on Instagram"><i class="fa fa-instagram"></i></a></li>
      </ul><!-- end .social-icons -->
    </div><!-- end .col-xs-12 -->
  </div><!-- end .row -->

  <div class="row">
    <div class="col-xs-12">
      <div class="uber-statement">
        <h2>A passion for the web and clean code.</h2>
        <!-- <h2>I create products that are a joy to use.</h2> -->
      </div><!-- end .uber-statement -->
    </div><!-- end .col-xs-12 -->
  </div><!-- end .row -->

</div><!-- end. container -->

      

    </header>
    <main class="content" aria-label="Content">
  	  




  <article class="stripe alt about-me">
    <div class="container">

      <img class="profile-pic" src="/assets/img/paul_heasley.jpg" width="180px" height="180px" alt="A profile picture of author Paul Heasley">
      <p class="meta-label">about the author <span class="meta-value">Paul Heasley</span></p>
      <p>I’m an Engineering Manager with a passion for web development and a focus on delivering great user experiences with clean, engaging UI's through concise, maintainable code.</p>

      <a class="btn btn-default btn-read-more" href="/contact" title="Contact me">Contact Me</a>

    </div><!-- end .container -->
  </article><!-- end .about-me -->



  
  
  <article class="stripe">
    <div class="container">

      <h2 class="post-header"><a href="/programming/react-oauth2-authentication-with-cloudentity/" title="Read full article">React OAuth2 Authentication with Cloudentity</a></h2>

      <div class="meta-label">
        posted on <span class="meta-value muted">27 July 2022</span>
        
          in <span class="meta-value"><a href="/programming">programming</a></span>
        
      </div><!-- end .meta-label -->
      <br />

      <p>In this tutorial we’re going to run through creating a react app that authenticates with a OAuth2 authorization server, in this case we’ll use Cloudentity. <a href="https://cloudentity.com/" target="_blank">Cloudentity</a> is an authentication and authorization provider that specialises in hyper-scalability. We’ll implement login using the <a href="https://oauth.net/2/grant-types/password/">Resource Owner Password Grant</a>, and demonstrate authenticating API calls.</p>



      <a class="btn btn-default btn-read-more" href="/programming/react-oauth2-authentication-with-cloudentity/" title="Read full article">Read Article</a>

    </div><!-- end .container -->
  </article><!-- end .stripe -->

  
  
  <article class="stripe alt">
    <div class="container">

      <h2 class="post-header"><a href="/programming/graphql-scalars-with-code-generator/" title="Read full article">Using GraphQL Scalars With Code Generator</a></h2>

      <div class="meta-label">
        posted on <span class="meta-value muted">18 August 2021</span>
        
          in <span class="meta-value"><a href="/programming">programming</a></span>
        
      </div><!-- end .meta-label -->
      <br />

      <p>Here’s one that might be obvious for GraphQL veterans, but I wasted some time Googling for an answer that didn’t seem clear. I’m trying to use <a href="https://www.graphql-code-generator.com/" target="_blank">GraphQL Code Generator</a> with a schema that was using <a href="https://www.graphql-scalars.dev/" target="_blank">GraphQL Scalars</a> and received the error:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Failed to load schema from ./src/schema/**/*.ts:
Unknown type: "Date".
</code></pre>
</div>



      <a class="btn btn-default btn-read-more" href="/programming/graphql-scalars-with-code-generator/" title="Read full article">Read Article</a>

    </div><!-- end .container -->
  </article><!-- end .stripe -->

  
  
  <article class="stripe">
    <div class="container">

      <h2 class="post-header"><a href="/programming/introducing-trade-monitor/" title="Read full article">Introducing Trade Monitor - a free stock notification service</a></h2>

      <div class="meta-label">
        posted on <span class="meta-value muted">21 February 2021</span>
        
          in <span class="meta-value"><a href="/programming">programming</a></span>
        
      </div><!-- end .meta-label -->
      <br />

      <p>As a novice investor the first thing I wanted was a way to setup alerts when stocks hit certain thresholds. It’s sounds really simple and I’m sure there’s a service out there for it, but I struggled to find a simple, free one. So I built one.</p>



      <a class="btn btn-default btn-read-more" href="/programming/introducing-trade-monitor/" title="Read full article">Read Article</a>

    </div><!-- end .container -->
  </article><!-- end .stripe -->

  
  
  <article class="stripe alt">
    <div class="container">

      <h2 class="post-header"><a href="/programming/duplicate-celery-logs-in-flask/" title="Read full article">Duplicate Celery logs in a Flask app</a></h2>

      <div class="meta-label">
        posted on <span class="meta-value muted">30 September 2020</span>
        
          in <span class="meta-value"><a href="/programming">programming</a></span>
        
      </div><!-- end .meta-label -->
      <br />

      <p><a href="https://docs.celeryproject.org/en/stable/userguide/application.html">Celery</a> and <a href="https://flask.palletsprojects.com/en/1.1.x/">Flask</a> go together like tacos and Tuesdays, so I was surprised to run into some incompatibility in the way they setup and use loggers which caused Celery to dump duplicate logs. Perhaps it was just the way I had structured my project, using a <a href="https://flask.palletsprojects.com/en/1.1.x/patterns/appfactories/">Flask application factory</a> and Celery tasks in a <code class="highlighter-rouge">tasks</code> folder, but that seems pretty standard. Or maybe it’s how I’m setting the log level? But I digress.</p>



      <a class="btn btn-default btn-read-more" href="/programming/duplicate-celery-logs-in-flask/" title="Read full article">Read Article</a>

    </div><!-- end .container -->
  </article><!-- end .stripe -->

  
  
  <article class="stripe">
    <div class="container">

      <h2 class="post-header"><a href="/infosec/owasp-zap-testing-cors-origin-reflection/" title="Read full article">Using OWASP ZAP to test for CORS origin reflection exploits</a></h2>

      <div class="meta-label">
        posted on <span class="meta-value muted">15 June 2020</span>
        
          in <span class="meta-value"><a href="/infosec">infosec</a></span>
        
      </div><!-- end .meta-label -->
      <br />

      <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">Cross-Origin Resource Sharing (CORS)</a> protects a user from having sensitive information leaked from one site to another. If the browser allowed any cross-domain XHR requests, sites would be able to steal information from other sites that you are logged into by making authenticated requests to them via JavaScript (the target site’s cookies will be sent with the request). But CORS can be easily misconfigured and result in vulnerabilities in your site, one particular misconfiguration is CORS origin reflection, where the <code class="highlighter-rouge">Origin</code> request header is processed through a whitelist (or regular expression) on the server and if allowed, is returned in an <code class="highlighter-rouge">Access-Control-Allow-Origin:</code> response header. Poor regex can result in allowing unintended domains through.</p>

<p>In this post I’ll walk you through using OWASP ZAP to manually test a list of domain names passed as origins to a webserver, and evaluating whether they are reflected in the allowed CORS domains.</p>



      <a class="btn btn-default btn-read-more" href="/infosec/owasp-zap-testing-cors-origin-reflection/" title="Read full article">Read Article</a>

    </div><!-- end .container -->
  </article><!-- end .stripe -->

  
  
  <article class="stripe alt">
    <div class="container">

      <h2 class="post-header"><a href="/programming/wtforms-selectfield-custom-option-attributes/" title="Read full article">WTForms SelectField with Custom Option Attributes</a></h2>

      <div class="meta-label">
        posted on <span class="meta-value muted">14 May 2020</span>
        
          in <span class="meta-value"><a href="/programming">programming</a></span>
        
      </div><!-- end .meta-label -->
      <br />

      <p>I was surprised to run into this problem in my <a href="https://flask.palletsprojects.com/">Flask app</a>, I needed to pass a custom attribute to one of the options in a select list provided by WTForms (in my case I wanted to set the first option as <code class="highlighter-rouge">disabled</code>), but it turns out that this is a <a href="https://stackoverflow.com/questions/44379016/disabling-one-of-the-options-in-wtforms-selectfield/61762617#61762617">common</a> <a href="https://stackoverflow.com/questions/23460857/create-selectfield-options-with-custom-attributes-in-wtforms/61762730#61762730">problem</a> with lots of <a href="https://mail.python.org/pipermail/flask/2016-May/000490.html">work</a> <a href="https://github.com/wtforms/wtforms/pull/81">arounds</a>.</p>

<p>Here’s a nice clean solution to pass those custom attributes, keeping the built-in <code class="highlighter-rouge">SelectField</code>, but using a custom widget which supports providing attributes for any of the options via a keyed dictionary.</p>



      <a class="btn btn-default btn-read-more" href="/programming/wtforms-selectfield-custom-option-attributes/" title="Read full article">Read Article</a>

    </div><!-- end .container -->
  </article><!-- end .stripe -->

  
  
  <article class="stripe">
    <div class="container">

      <h2 class="post-header"><a href="/programming/simple-ecs-service-communication/" title="Read full article">Simple, Cost Effective ECS Service Communication</a></h2>

      <div class="meta-label">
        posted on <span class="meta-value muted">07 February 2020</span>
        
          in <span class="meta-value"><a href="/programming">programming</a></span>
        
      </div><!-- end .meta-label -->
      <br />

      <p>3 Docker containers want to communicate with each other. They live on a single host with no scaling, it should be a trivial problem right? If you’re hosting them on AWS ECS you can use ECS Service Discovery, but for this simple scenario it’s costly and overly complex. Here’s a cheaper, simpler way.</p>



      <a class="btn btn-default btn-read-more" href="/programming/simple-ecs-service-communication/" title="Read full article">Read Article</a>

    </div><!-- end .container -->
  </article><!-- end .stripe -->

  
  
  <article class="stripe alt">
    <div class="container">

      <h2 class="post-header"><a href="/programming/notepadpp-textfx-64bit/" title="Read full article">Notepad++ TextFX 0.25 x64</a></h2>

      <div class="meta-label">
        posted on <span class="meta-value muted">01 May 2019</span>
        
          in <span class="meta-value"><a href="/programming">programming</a></span>
        
      </div><!-- end .meta-label -->
      <br />

      <p>There’s plenty of messages about why you <a href="http://docs.notepad-plus-plus.org/index.php/TextFX%27s_Future">shouldn’t need TextFX for Notepad++ anymore</a>, but if you’re feeling nostalgic I’ve got you covered, here’s the binary for x64 bit systems compiled from the <a href="https://sourceforge.net/projects/npp-plugins/files/TextFX/TextFX%20v0.25/">sources</a>.</p>



      <a class="btn btn-default btn-read-more" href="/programming/notepadpp-textfx-64bit/" title="Read full article">Read Article</a>

    </div><!-- end .container -->
  </article><!-- end .stripe -->

  
  
  <article class="stripe">
    <div class="container">

      <h2 class="post-header"><a href="/programming/using-css-modules-with-angular-typescript-and-bootstrap/" title="Read full article">Using CSS Modules with Angular, TypeScript and Bootstrap</a></h2>

      <div class="meta-label">
        posted on <span class="meta-value muted">21 February 2018</span>
        
          in <span class="meta-value"><a href="/programming">programming</a></span>
        
      </div><!-- end .meta-label -->
      <br />

      <p>CSS is simultaneously both the simplest and hardest programming language at once. What could be simpler than selectors, properties and values? And yet how quickly can CSS become an overwhelming mess, paralyzing unsuspecting developers who are too afraid to change a style because it’s hard to find and test all it’s usages, so they just add another style to the mess.</p>

<p><a href="https://github.com/css-modules/css-modules" target="_blank">CSS Modules</a> aims to alleviate a lot of these problems by scoping styles to a specific component, so other page styles won’t conflict with your component and your styles won’t leak onto other areas of the page.</p>



      <a class="btn btn-default btn-read-more" href="/programming/using-css-modules-with-angular-typescript-and-bootstrap/" title="Read full article">Read Article</a>

    </div><!-- end .container -->
  </article><!-- end .stripe -->

  
  
  <article class="stripe alt">
    <div class="container">

      <h2 class="post-header"><a href="/programming/faster-angularjs-tests-using-the-component-driver-pattern/" title="Read full article">Faster AngularJS tests using the component driver pattern</a></h2>

      <div class="meta-label">
        posted on <span class="meta-value muted">13 February 2018</span>
        
          in <span class="meta-value"><a href="/programming">programming</a></span>
        
      </div><!-- end .meta-label -->
      <br />

      <p>When writing tests I prefer to test multiple functions and their interactions at once, rather than constraining a test to a single function or unit. This ensures that the test operates in more realistic way, and avoids maintaining unnecessary tests over code paths that can’t be reached.</p>

<p>Protractor e2e tests for AngularJS interact directly with the DOM and usually provide more value than unit tests. I’m not interested in whether a controller behaves a certain way, I’m more interested in what happens when a user clicks a certain button on a page. But protractor tests are slow. In the largest AngularJS project I manage, there are over 300 protractor tests that take up to 15 minutes to complete, that’s a very slow feedback loop. In order to bring the test time down I’m turning back to AngularJS unit tests, using the component driver pattern to still inspect and interact with DOM elements.</p>



      <a class="btn btn-default btn-read-more" href="/programming/faster-angularjs-tests-using-the-component-driver-pattern/" title="Read full article">Read Article</a>

    </div><!-- end .container -->
  </article><!-- end .stripe -->




<article class="stripe">
  <div class="container">

    <nav class="home-pagination">
      <ul class="pagination">
        <li class="disabled">
          <a href=""><span aria-hidden="true">&larr;</span> Previous</a>
        </li>

        
          
            <li class="active"><span>1 <span class="sr-only">(current)</span></span></li>
          
        
          
            <li><a href="/home/page2">2</a></li>
          
        
          
            <li><a href="/home/page3">3</a></li>
          
        
          
            <li><a href="/home/page4">4</a></li>
          
        
          
            <li><a href="/home/page5">5</a></li>
          
        

        <li>
          <a href="/home/page2">Next <span aria-hidden="true">&rarr;</span></a>
        </li>
      </ul>
    </nav>

  </div><!-- end .container -->
</article><!-- end .stripe -->


    </main><!-- end .content -->

    
<footer role="contentinfo">
  <div class="container">

    <ul class="social-icons">
      <li><a href="https://twitter.com/pheasley" title="Follow me on Twitter"><i class="fa fa-twitter"></i></a></li>
      <li><a href="https://github.com/phdesign" title="See my code on GitHub"><i class="fa fa-github"></i></a></li>
      <li><a href="https://au.linkedin.com/in/pheasley" title="Connect with me on LinkedIn"><i class="fa fa-linkedin"></i></a></li>
      <li><a href="https://www.pinterest.com/paulheasley/" title="Follow me on Pinterest"><i class="fa fa-pinterest"></i></a></li>
      <li><a href="https://instagram.com/phdesign/" title="Me on Instagram"><i class="fa fa-instagram"></i></a></li>
    </ul>

    <p class="footer-copyright">
      &copy; 2015 Paul Heasley. All rights reserved. <br>
      Based on a <a href="http://guuthemes.com/" title="Much of the design of this site was based on a GuuThemes theme, big credit to their team for their beautiful art and clean code">GuuTheme</a>.
    </p>

  </div><!-- end .container -->
</footer>

    
<!-- JS (Javascript Files)
================================================== -->

<script src="/assets/js/main.js"></script>

  </body>

</html>
