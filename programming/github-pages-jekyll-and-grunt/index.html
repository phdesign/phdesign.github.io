



<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Paul Heasley">
  

  <title>Replace your CMS with GitHub Pages, Jekyll and Grunt | phdesign</title>
  <meta name="description" content="For years I’ve used Wordpress to host my site, which has been great but it’s overkill for what I need. I’d be happier to write the HTML myself if it wasn’t s...">

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="canonical" href="http://phdesign.com.au/programming/github-pages-jekyll-and-grunt/">
  <link rel="alternate" type="application/rss+xml" title="phdesign" href="/feed.xml">
  <link rel="shortcut icon" href="/favicon.ico">

  
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2414000-1', 'auto');
  ga('send', 'pageview');

</script>

  
  <script data-ad-client="ca-pub-5982856679845951" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

  <!-- Google Web Fonts -->
  <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
  
</head>

  <body class="post">

    <div class="header-background-image"></div>
    <header role="banner">
      <div class="header-top">
        
<nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/" title="phdesign homepage">ph<span class="brand-muted">design</span></a>
    </div><!-- end .navbar-header -->

    <div class="collapse navbar-collapse" id="navbar-collapse">
      <ul class="nav navbar-nav">
        <li class="active"><a href="/">Home <span class="sr-only">(current)</span></a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Blog <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            
              <li><a href="/programming">programming</a></li>
            
              <li><a href="/general">general</a></li>
            
              <li><a href="/woodworking">woodworking</a></li>
            
              <li><a href="/infosec">infosec</a></li>
            
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Projects <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/album-rsync">album-rsync</a></li>
            <li><a href="/npptoolbucket">NppToolBucket</a></li>
            <li><a href="/betternote">BetterNote</a></li>
            <li><a href="/phreplace">phReplace</a></li>
          </ul>
        </li>
        <li><a href="/presentations">Presentations</a></li>
        <li><a href="/contact">Contact me</a></li>
      </ul>

      

    </div><!-- end .navbar-collapse -->
  </div><!-- end .container -->
</nav>

      </div><!-- end .header-top -->

      

    </header>
    <main class="content" aria-label="Content">
  	  <article>
  <div class="container">

    <div class="date-stamp">
      <div class="month">Sep</div>
      <div class="day">23</div>
    </div><!-- end .date-stamp -->

    <h2 class="post-header">Replace your CMS with GitHub Pages, Jekyll and Grunt</h2>

    <div class="meta-label">
      posted on <span class="meta-value muted">23 September 2015</span>
      
        in <span class="meta-value"><a href="/programming">programming</a></span>
      
    </div><!-- end .meta-label -->
    <br />

    
    
    
    
      <p class="deprecated alert alert-warning"><b>Warning:</b> Please consider that this post is over 5 years old and the content may no longer be relevant.</p>
    

    <!--
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-5982856679845951"
     data-ad-slot="6503377131"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

-->
    <div class="alert alert-info" role="alert">
  This post is adapted from a presentation I gave at <a class="alert-link" href="http://www.webdirections.org/events/what-do-you-know-melbourne-september-2015/" target="_blank">What Do You Know Melbourne</a> on 3 September 2015
</div>

<p>For years I’ve used Wordpress to host my site, which has been great but it’s overkill for what I need. I’d be happier to write the HTML myself if it wasn’t such a maintenance pain keeping consistency across all the pages. I hated having to update WordPress continually to ensure my site is secure. In order to keep all my site source in Git I have to synchronise the changes that happen automatically on the server, like updates and uploads / media files back to my working copy to commit them. And it doesn’t enable me to keep any of my content in Git, which is most important, I have to take regular database backups for this.</p>

<p>So in rebuilding this site I’ve found a new platform to host it which supports my workflow properly, <a href="https://pages.github.com/">GitHub pages</a>. GitHub pages is a great solution to becoming CMS free but still have a maintainable and extensible site. And you’ll be in good company, besides my own site, the <a href="http://getbootstrap.com/">Bootstrap</a>, <a href="https://facebook.github.io/react/">React</a> and <a href="http://yeoman.io/">Yeoman</a> sites all use GitHub pages.</p>

<h2 id="github-pages">GitHub Pages</h2>

<p>GitHub pages is a free offering from GitHub that allows you to host one website per account and one website per project, you can even use <a href="https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages/">your own domain name</a>. To use your account site, you need to</p>

<ul>
  <li>Create a repo named <code class="highlighter-rouge">username.github.io</code> on GitHub (where username is your GitHub username)</li>
  <li>Push your website files into the <code class="highlighter-rouge">master</code> branch</li>
  <li>Your site will be available on <code class="highlighter-rouge">http://username.github.io</code></li>
</ul>

<p>For a project site you need to</p>

<ul>
  <li>Create a new orphaned branch called <code class="highlighter-rouge">gh-pages</code> within your project repo on GitHub</li>
  <li>Push your website files to this branch</li>
  <li>Your site will be available on <code class="highlighter-rouge">http://username.github.io/project</code></li>
</ul>

<p>Free static web site hosting at GitHub is great but what makes GitHub pages stand out is Jekyll.</p>

<h2 id="jekyll">Jekyll</h2>

<p><a href="https://jekyllrb.com/">Jekyll</a> is a static site generator, which means it takes templates, pages and data from a convention based folder structure, and turns it into a static site for you. It’s basically what your CMS is doing on every page request, but it does it just once. GitHub pages runs Jekyll on your site by default, but because you probably aren’t clashing with Jekyll’s folder conventions you won’t notice. Jekyll is blog aware, which means it can do a lot of what your Wordpress site can, it understands published and draft posts, tag, categories, permalinks, post listings and excerpts among other concepts.</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">.
├── _config.yml
├── _drafts
|   └── on-simplicity-in-technology.markdown
├── _includes
|   ├── footer.html
|   └── header.html
├── _layouts
|   ├── default.html
|   └── post.html
├── _posts
|   ├── 2007-10-29-why-every-programmer-should-play-nethack.textile
├── _data
|   └── members.yml
└── index.html</code></pre></figure>

<p>A typical Jekyll folder structure contains a <code class="highlighter-rouge">_layouts</code> folder for your base templates, an <code class="highlighter-rouge">_includes</code> folder for partial includes that can be used by layouts or pages, a <code class="highlighter-rouge">_config.yaml</code> file which defines site configuration, and other files and folders that contain your site content. Any folder that Jekyll doesn’t recognise is copied verbatim to the static site and you can tell Jekyll to ignore files or folders and not copy them using configuration settings.</p>

<p>posts.html:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">---
layout: posts
permalink: posts/
title: Recent blog posts
---
{% include header.html %}
<span class="nt">&lt;h1&gt;</span>Here’s some of my recent posts<span class="nt">&lt;/h1&gt;</span></code></pre></figure>

<p>_layouts/posts.html:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;&lt;title&gt;</span>{{ page.title }}<span class="nt">&lt;/title&gt;&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  {{ content }}
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure>

<p>A Jekyll content page will start with Frontmatter, that’s all the code between the 2 rows of hyphens at the start of the file. In the frontmatter you can can define the layout to use, the page title and a permalink for the page among other configuration settings. These will override any settings in the site config (_config.yaml).</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;ul&gt;</span>
  {% for post in site.posts %}
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ post.url }}"</span><span class="nt">&gt;</span>{{ post.title }}<span class="nt">&lt;/a&gt;</span>
      {{ post.excerpt | strip_html }}
    <span class="nt">&lt;/li&gt;</span>
  {% endfor %}
<span class="nt">&lt;/ul&gt;</span></code></pre></figure>

<p>Jekyll uses the <a href="https://docs.shopify.com/themes/liquid-documentation/basics">Liquid templating language</a> developed by Shopify which will feel familiar for anyone who’s worked with handlebars, mustache or angular. Liquid defines tags for flow control and filters for acting on variables</p>

<p>For a static site generator Jekyll is very feature rich and you’ll be surpised what you can accomplish with it. Apart from templates, it supports SASS, extensionless urls, markdown, textile, even custom domains on GitHub pages.</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">$ gem install jekyll
$ jekyll serve

Configuration file: /Users/paul/Projects/demo/_config.yml
            Source: /Users/paul/Projects/demo
       Destination: /Users/paul/Projects/demo/_site
      Generating... 
                    done.
 Auto-regeneration: enabled for '/Users/paul/Projects/demo'
Configuration file: /Users/paul/Projects/demo/_config.yml
    Server address: http://127.0.0.1:4000/
  Server running... press ctrl-c to stop.</code></pre></figure>

<p>But Jekyll isn’t exclusive to GitHub pages, Jekyll comes packaged as a Ruby gem that allows you to install it on your local machine. Once jekyll is installed you can use <code class="highlighter-rouge">jekyll build</code> to compile your static site or <code class="highlighter-rouge">jekyll serve</code> to compile, spin up a web server and watch the file system for changes.</p>

<p>And there’s another big benefit to running Jekyll locally, plugins! Plugins extend the functionality of Jekyll but unfortunately they aren’t supported by GitHub pages, so if you want to use a plugin you’ll need to build you site locally and push up the resulting <code class="highlighter-rouge">_site</code> folder to GitHub.</p>

<p>Some cool Jekyll plugins allow you to implement <a href="https://github.com/slashdotdash/jekyll-lunr-js-search">site search</a>, <a href="https://github.com/jekyll/jekyll-archives">create tag or category listings</a> and have <a href="https://github.com/jekyll/jekyll-redirect-from">page redirects</a>.</p>

<p>When you start thinking creatively it’s surprising how much you can do with a static site with no backend. Want comments? Use <a href="https://disqus.com">Disqus</a>. Want emailed forms? Try <a href="https://getsimpleform.com">Simple Form</a>.</p>

<h2 id="grunt">Grunt</h2>

<p>And if you’re building locally and pushing the resulting site to GitHub pages, you can get even more creative with your build pipeline using <a href="http://gruntjs.com/">Grunt</a>. You could preform pre Jekyll tasks like bundling and minification, or post Jekyll tasks like pushing the compiled site up to GitHub automatically using <a href="https://github.com/tschaub/grunt-gh-pages">grunt-gh-pages</a>.</p>

<p><strong>TL;DR</strong> GitHub pages provides free website hosting optionally using your own domain name and will process a Jekyll site for you. Jekyll is a static site generator offering unbeatable performance with a rich feature set that can be extended by plugins. You can extend your Jekyll build using the power of Grunt and automate publishing to GitHub pages.</p>



    <ul class="post-tags">
      
        <li><a href="/tag/github" title="View posts tagged with github">#github</a></li>
      
        <li><a href="/tag/grunt" title="View posts tagged with grunt">#grunt</a></li>
      
        <li><a href="/tag/jekyll" title="View posts tagged with jekyll">#jekyll</a></li>
      
    </ul>

  </div><!-- end .container -->
</article>

<div class="stripe">
  <div class="container">

    <nav class="row pager">
      <div class="previous col-xs-6 col-sm-4">
        
          <div class="meta-label"><a href="/woodworking/pallet-wood-coffee-table/"><span aria-hidden="true">&laquo;</span> Previous post</a></div>
          <div class="meta-value"><a href="/woodworking/pallet-wood-coffee-table/">Pallet Wood Coffee Table</a></div>
        
      </div>
      <div class="next col-xs-6 col-sm-4 col-sm-offset-4">
        
          <div class="meta-label"><a href="/programming/using-grunt-with-pebble-build/">Next post <span aria-hidden="true">&raquo;</span></a></div>
          <div class="meta-value"><a href="/programming/using-grunt-with-pebble-build/">Using Grunt with Pebble Build to create scalable PebbleKit JavaScript</a></div>
        
      </div>
    </nav><!-- end .post_nav -->

  </div><!-- end .container -->
</div><!-- end .stripe -->

    </main><!-- end .content -->

    
<footer role="contentinfo">
  <div class="container">

    <ul class="social-icons">
      <li><a href="https://twitter.com/pheasley" title="Follow me on Twitter"><i class="fa fa-twitter"></i></a></li>
      <li><a href="https://github.com/phdesign" title="See my code on GitHub"><i class="fa fa-github"></i></a></li>
      <li><a href="https://au.linkedin.com/in/pheasley" title="Connect with me on LinkedIn"><i class="fa fa-linkedin"></i></a></li>
      <li><a href="https://www.pinterest.com/paulheasley/" title="Follow me on Pinterest"><i class="fa fa-pinterest"></i></a></li>
      <li><a href="https://instagram.com/phdesign/" title="Me on Instagram"><i class="fa fa-instagram"></i></a></li>
    </ul>

    <p class="footer-copyright">
      &copy; 2015 Paul Heasley. All rights reserved. <br>
      Based on a <a href="http://guuthemes.com/" title="Much of the design of this site was based on a GuuThemes theme, big credit to their team for their beautiful art and clean code">GuuTheme</a>.
    </p>

  </div><!-- end .container -->
</footer>

    
<!-- JS (Javascript Files)
================================================== -->

<script src="/assets/js/search.min.js"></script>
<script src="/assets/js/main.js"></script>

  </body>

</html>
